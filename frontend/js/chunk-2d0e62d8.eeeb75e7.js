(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e62d8"],{9847:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),o={class:"p-grid p-nogutter p-px-3 p-pt-3"},a={class:"p-col-12 p-lg-6 p-lg-offset-3 p-xl-4 p-xl-offset-4 p-col-nogutter"},i=Object(r["l"])(" Postni tahrirlash "),s={class:"p-fluid"},c={class:"p-field"},l=Object(r["m"])("label",null,"Category",-1),u={class:"p-field"},d=Object(r["m"])("label",null,"Subject",-1),m={class:"p-field"},f=Object(r["m"])("label",null,"Content",-1);function b(e,t,n,b,p,g){var j=Object(r["K"])("Dropdown"),v=Object(r["K"])("ValidationErrors"),O=Object(r["K"])("InputText"),$=Object(r["K"])("Textarea"),h=Object(r["K"])("Button"),w=Object(r["K"])("Card");return Object(r["C"])(),Object(r["h"])("div",o,[Object(r["m"])("div",a,[Object(r["m"])("form",{onSubmit:t[4]||(t[4]=Object(r["X"])((function(){return e.editPost&&e.editPost.apply(e,arguments)}),["stop","prevent"]))},[Object(r["m"])(w,null,{title:Object(r["U"])((function(){return[i]})),content:Object(r["U"])((function(){return[Object(r["m"])("div",s,[Object(r["m"])("div",c,[l,Object(r["m"])(j,{modelValue:e.v$.form.category.$model.id,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.v$.form.category.$model.id=t}),options:e.categories,optionLabel:"name_uz",optionValue:"id"},null,8,["modelValue","options"]),Object(r["m"])(v,{form:e.v$.form,attribute:"category"},null,8,["form"])]),Object(r["m"])("div",u,[d,Object(r["m"])(O,{modelValue:e.v$.form.subject.$model,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.v$.form.subject.$model=t}),class:{"p-invalid":e.v$.form.subject.$dirty&&e.v$.form.subject.$invalid},disabled:e.$store.state.loading},null,8,["modelValue","class","disabled"]),Object(r["m"])(v,{form:e.v$.form,attribute:"subject"},null,8,["form"])]),Object(r["m"])("div",m,[f,Object(r["m"])($,{modelValue:e.v$.form.content.$model,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.v$.form.content.$model=t}),class:{"p-invalid":e.v$.form.content.$dirty&&e.v$.form.content.$invalid},disabled:e.$store.state.loading},null,8,["modelValue","class","disabled"]),Object(r["m"])(v,{form:e.v$.form,attribute:"content"},null,8,["form"])])])]})),footer:Object(r["U"])((function(){return[Object(r["m"])(h,{icon:"pi pi-times",label:"O'chirish",type:"button",class:"p-button-danger p-mr-3",onClick:e.deletePost,loading:e.$store.state.loading,disabled:e.$store.state.loading},null,8,["onClick","loading","disabled"]),Object(r["m"])(h,{icon:"pi pi-check",label:e.$t("save"),type:"submit",loading:e.$store.state.loading,disabled:e.$store.state.loading},null,8,["label","loading","disabled"])]})),_:1})],32)])])}var p=n("1da1"),g=(n("96cf"),n("25a0")),j=n("f876"),v=n("e3e1"),O=Object(r["n"])({components:{ValidationErrors:j["a"]},setup:function(){return{v$:Object(g["a"])()}},mounted:function(){this.getCategories(),this.getPost()},data:function(){return{form:{category:"",subject:"",content:"",status:""},statusList:[{name:"ACTIVE",value:1},{name:"INACTIVE",value:0}],categories:null}},methods:{getCategories:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.info.categories.get();case 2:n=t.sent,e.categories=n.data.categories.data.results;case 4:case"end":return t.stop()}}),t)})))()},getFilters:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.info.get(null,{url:"info/category/filters/1/"});case 2:n=t.sent,console.log(JSON.stringify(n.data["-"]));case 4:case"end":return t.stop()}}),t)})))()},getPost:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$route.params.id,t.next=3,e.$api.info.posts[n].get();case 3:r=t.sent,e.form=r.data.post;case 5:case"end":return t.stop()}}),t)})))()},editPost:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={category:e.form.category.id,subject_uz:e.form.subject,content_uz:e.form.content,status:e.form.status,filters:e.form.filters},r=e.$route.params.id,console.log(JSON.stringify(n)),t.next=5,e.$api.info.posts[r].put(n);case 5:o=t.sent,console.log(JSON.stringify(o));case 7:case"end":return t.stop()}}),t)})))()},deletePost:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.info.posts[1].delete();case 2:n=t.sent,alert(JSON.stringify(n.data));case 4:case"end":return t.stop()}}),t)})))()}},validations:function(){return{form:this.$setMessages({category:{required:v["c"]},subject:{required:v["c"]},content:{required:v["c"]},status:{required:v["c"]}})}}}),$=n("6b0d"),h=n.n($);const w=h()(O,[["render",b]]);t["default"]=w}}]);
//# sourceMappingURL=chunk-2d0e62d8.eeeb75e7.js.map